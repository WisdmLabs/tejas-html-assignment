{"version":3,"file":"blocks/auth-modal/frontend.js","mappings":"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","sources":["webpack://wdm-plugins/./src/blocks/auth-modal/frontend.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n  const openModalBtn = document.querySelectorAll(\".open-modal\");\n  const modalEle = document.querySelector(\".wp-block-wdm-plugins-auth-modal\");\n  const modalCloseElement = document.querySelectorAll(\n    \".modal-overlay,.modal-btn-close\"\n  );\n\n  openModalBtn.forEach((ele) => {\n    ele.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n      modalEle.classList.add(\"modal-show\");\n    });\n  });\n  modalCloseElement.forEach((ele) => {\n    ele.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n      modalEle.classList.remove(\"modal-show\");\n    });\n  });\n\n  const tabs = document.querySelectorAll(\".tabs a\");\n  const signinForm = document.querySelector(\"#signin-tab\");\n  const signupForm = document.querySelector(\"#signup-tab\");\n  tabs.forEach((tab) => {\n    tab.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n      tabs.forEach((currentTab) => {\n        currentTab.classList.remove(\"active-tab\");\n      });\n      event.currentTarget.classList.add(\"active-tab\");\n      const activeTab = event.currentTarget.getAttribute(\"href\");\n\n      if (activeTab === \"#signin-tab\") {\n        signinForm.style.display = \"block\";\n        signupForm.style.display = \"none\";\n      } else {\n        signinForm.style.display = \"none\";\n        signupForm.style.display = \"block\";\n      }\n    });\n  });\n  signupForm.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n    const signupFieldset = signupForm.querySelector(\"fieldset\");\n    signupFieldset.setAttribute(\"disabled\", true);\n\n    const signupStatus = signupForm.querySelector(\"#signup-status\");\n    signupStatus.innerHTML = `\n    <div class=\"modal-status modal-status-info\">\n    Please wait ! We are creating your account.\n    </div>\n    `;\n\n    const formData = {\n      username: signupForm.querySelector(\"#su-name\").value,\n      email: signupForm.querySelector(\"#su-email\").value,\n      password: signupForm.querySelector(\"#su-password\").value,\n    };\n\n    const response = await fetch(wdm_auth_rest.signup, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formData),\n    });\n\n    const responseJSON = await response.json();\n    if (responseJSON.status === 2) {\n      signupStatus.innerHTML = `\n        <div class=\"modal-status modal-status-success\">\n          Success ! Your account has been created.\n        </div>\n      `;\n      location.reload();\n    } else {\n      signupFieldset.removeAttribute(\"disabled\");\n      signupStatus.innerHTML = `\n      <div class=\"modal-status modal-status-danger\">\n        Unable to create account ! Please trry again later\n      </div>\n      `;\n    }\n  });\n});\n"],"names":["document","addEventListener","openModalBtn","querySelectorAll","modalEle","querySelector","modalCloseElement","forEach","ele","event","preventDefault","classList","add","remove","tabs","signinForm","signupForm","tab","currentTab","currentTarget","activeTab","getAttribute","style","display","signupFieldset","setAttribute","signupStatus","innerHTML","formData","username","value","email","password","response","fetch","wdm_auth_rest","signup","method","headers","body","JSON","stringify","responseJSON","json","status","location","reload","removeAttribute"],"sourceRoot":""}